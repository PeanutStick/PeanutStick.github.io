<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Install Linux From Scratch | Peanutstick</title>
  <meta name="keywords" content=" Linux ">
  <meta name="description" content="Install Linux From Scratch | Peanutstick">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="nmapnmap -v -p- -sV 10.10.82.220 Output: PORT     STATE SERVICE VERSION 22&#x2F;tcp   open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.4 (Ubuntu Linux; protocol 2.0) 80&#x2F;tcp   open  http    Apache httpd 2.4.41 (">
<meta property="og:type" content="article">
<meta property="og:title" content="CTF Plotted-LMS">
<meta property="og:url" content="https://peanutstick.github.io/post/CTF_Plotted-LMS.html">
<meta property="og:site_name" content="Peanutstick">
<meta property="og:description" content="nmapnmap -v -p- -sV 10.10.82.220 Output: PORT     STATE SERVICE VERSION 22&#x2F;tcp   open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.4 (Ubuntu Linux; protocol 2.0) 80&#x2F;tcp   open  http    Apache httpd 2.4.41 (">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.imgur.com/muA7O3E.png">
<meta property="og:image" content="https://i.imgur.com/ftui3js.png">
<meta property="og:image" content="https://i.imgur.com/Rtwzssg.png">
<meta property="og:image" content="https://i.imgur.com/eYJLK6X.png">
<meta property="og:image" content="https://i.imgur.com/nSNVAmy.png">
<meta property="og:image" content="https://i.imgur.com/eLWTtqU.png">
<meta property="og:image" content="https://i.imgur.com/mFWBLGm.png">
<meta property="og:image" content="https://i.imgur.com/zMArep9.png">
<meta property="og:image" content="https://i.imgur.com/glBkK03.png">
<meta property="og:image" content="https://i.imgur.com/dLbHVsh.png">
<meta property="og:image" content="https://i.imgur.com/tjNBzAz.png">
<meta property="og:image" content="https://i.imgur.com/sPLRMtc.png">
<meta property="og:image" content="https://i.imgur.com/TfcUKOi.png">
<meta property="og:image" content="https://i.imgur.com/ZAOfXn6.png">
<meta property="og:image" content="https://i.imgur.com/3quGSjo.png">
<meta property="og:image" content="https://i.imgur.com/zH44qFO.png">
<meta property="article:published_time" content="2023-03-16T14:30:52.000Z">
<meta property="article:modified_time" content="2023-02-18T10:02:44.210Z">
<meta property="article:author" content="Peanutstick">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/muA7O3E.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>


<script id="dsq-count-scr" src="//peanutstick.disqus.com/count.js" async></script>


<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.4.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="true">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>Peanutstick</span>
</div>

<div class="icon">
    
        
    
        
            <a title="github"
               href="https://github.com/Peanutstick"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
            <a title="reddit"
               href="https://www.reddit.com/user/benjy500c/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-reddit"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(94)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="CTF">
                        
                        CTF
                        <small>(50)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Fix">
                        
                        Fix
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Os">
                        
                        Os
                        <small>(19)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Programing">
                        
                        Programing
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Security">
                        
                        Security
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Service">
                        
                        Service
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Tips">
                        
                        Tips
                        <small>(8)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">About</a>
        
        <a style="width: 50%"
                
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="94">
<input type="hidden" id="yelog_site_word_count" value="44.6k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://irc.evilcorp.ga/">Evilcorp</a></li>
            
            <li><a target="_blank" href="https://github.com/TripleZer000">TripleZer0</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">Contents</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>IRC Python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux, Gaming</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Pentest</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Security</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Tor</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>VPN</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="All CTF "
           href="/post/CTF_Plotted-LMS.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Plotted-LMS">CTF Plotted-LMS</span>
            <span class="post-date" title="2023-03-16 15:30:52">2023/03/16</span>
        </a>
        
        <a  class="All Tips "
           href="/post/Install%20of%20kali%20on%20Arch%20with%20QEMU.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Install Kali with QEMU">Install Kali with QEMU</span>
            <span class="post-date" title="2023-02-11 01:56:09">2023/02/11</span>
        </a>
        
        <a  class="All Tips "
           href="/post/Cheat%20sheet.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Cheat Sheet for the OSCP">Cheat Sheet for the OSCP</span>
            <span class="post-date" title="2023-02-07 03:09:52">2023/02/07</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Wgel_CTF.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Wgel CTF">CTF Wgel CTF</span>
            <span class="post-date" title="2023-02-05 19:20:02">2023/02/05</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Year%20of%20the%20Rabbit.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Year of the Rabbit">CTF Year of the Rabbit</span>
            <span class="post-date" title="2023-02-02 19:20:02">2023/02/02</span>
        </a>
        
        <a  class="All Security "
           href="/post/CVE-2023-24055_KeePass_2.5x.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CVE-2023-24055 KeePass 2.5x">CVE-2023-24055 KeePass 2.5x</span>
            <span class="post-date" title="2023-01-31 05:15:52">2023/01/31</span>
        </a>
        
        <a  class="All CTF "
           href="/post/Ignite.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Ignite">CTF Ignite</span>
            <span class="post-date" title="2023-01-29 18:20:02">2023/01/29</span>
        </a>
        
        <a  class="All CTF "
           href="/post/Learn%20CTF%20on%20windows.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Learn CTF on windows">Learn CTF on windows</span>
            <span class="post-date" title="2023-01-14 19:26:00">2023/01/14</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Relevant.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Relevant">CTF Relevant</span>
            <span class="post-date" title="2023-01-13 11:18:57">2023/01/13</span>
        </a>
        
        <a  class="All Tips "
           href="/post/Bypass%20yt%20restriction.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Bypass yt restriction">Bypass yt restriction</span>
            <span class="post-date" title="2023-01-12 22:25:02">2023/01/12</span>
        </a>
        
        <a  class="All CTF "
           href="/post/Daily%20Bugle.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF  Daily Bugle">CTF  Daily Bugle</span>
            <span class="post-date" title="2023-01-12 19:20:02">2023/01/12</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Internal.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Internal">CTF Internal</span>
            <span class="post-date" title="2023-01-11 19:20:02">2023/01/11</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Mr_Robot_HTB.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Mr Robot">CTF Mr Robot</span>
            <span class="post-date" title="2023-01-09 02:51:02">2023/01/09</span>
        </a>
        
        <a  class="All CTF "
           href="/post/Crocc%20Crew.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Crocc Crew">CTF Crocc Crew</span>
            <span class="post-date" title="2022-12-23 08:02:40">2022/12/23</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Init.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Init">CTF Init</span>
            <span class="post-date" title="2022-11-13 12:14:10">2022/11/13</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_SecretRezip.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF SecretRezip">CTF SecretRezip</span>
            <span class="post-date" title="2022-11-10 20:25:36">2022/11/10</span>
        </a>
        
        <a  class="All CTF "
           href="/post/Hackfest%202016.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Hackfest 2016">CTF Hackfest 2016</span>
            <span class="post-date" title="2022-10-26 20:21:07">2022/10/26</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Eric.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Eric">CTF Eric</span>
            <span class="post-date" title="2022-10-20 14:11:51">2022/10/20</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Hacksudo3.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Hacksudo3">CTF Hacksudo3</span>
            <span class="post-date" title="2022-10-18 18:48:30">2022/10/18</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Micro_Storage.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Micro Storage">CTF Micro Storage</span>
            <span class="post-date" title="2022-10-16 22:25:19">2022/10/16</span>
        </a>
        
        <a  class="All CTF "
           href="/post/Eternal%20Loop.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Eternal Loop">Eternal Loop</span>
            <span class="post-date" title="2022-09-26 02:15:52">2022/09/26</span>
        </a>
        
        <a  class="All Os "
           href="/post/Fresh%20install%20of%20Arch.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Fresh install of Arch">Fresh install of Arch</span>
            <span class="post-date" title="2022-07-09 19:30:52">2022/07/09</span>
        </a>
        
        <a  class="All CTF "
           href="/post/DIGITALWORLD%20FALL.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="DIGITALWORLD: FALL ">DIGITALWORLD: FALL </span>
            <span class="post-date" title="2022-07-03 06:30:52">2022/07/03</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Victim%201.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Victim1: ">CTF Victim1: </span>
            <span class="post-date" title="2022-06-26 23:48:52">2022/06/26</span>
        </a>
        
        <a  class="All Os "
           href="/post/Linux%20From%20Scratch.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Install Linux From Scratch">Install Linux From Scratch</span>
            <span class="post-date" title="2022-06-18 23:48:52">2022/06/18</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Silky_0x01.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Silky 0x01">CTF Silky 0x01</span>
            <span class="post-date" title="2022-06-12 18:44:52">2022/06/12</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Beelzebub.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Beelzebub">CTF Beelzebub</span>
            <span class="post-date" title="2022-06-09 19:29:02">2022/06/09</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Shibboleth.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Shibboleth">CTF Shibboleth</span>
            <span class="post-date" title="2022-03-13 00:29:02">2022/03/13</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_PwnLab.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF PwnLab">CTF PwnLab</span>
            <span class="post-date" title="2022-03-06 04:07:56">2022/03/06</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Simple_CTF.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF simple CTF">CTF simple CTF</span>
            <span class="post-date" title="2022-03-03 01:20:52">2022/03/03</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_hacker_kid.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF hacker kid">CTF hacker kid</span>
            <span class="post-date" title="2022-02-28 03:19:25">2022/02/28</span>
        </a>
        
        <a  class="All Tips "
           href="/post/How_to_gain_some_GiB_on_Arch_Linux.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="How to gain some GiB on Arch Linux">How to gain some GiB on Arch Linux</span>
            <span class="post-date" title="2022-02-21 03:15:52">2022/02/21</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_jordaninfosec.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Jordaninfosec">CTF Jordaninfosec</span>
            <span class="post-date" title="2022-02-17 22:11:00">2022/02/17</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Deathnote.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Deathnote">CTF Deathnote</span>
            <span class="post-date" title="2022-02-08 02:20:57">2022/02/08</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Paper.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Paper">CTF Paper</span>
            <span class="post-date" title="2022-02-06 04:07:56">2022/02/06</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Pandora.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Pandora">CTF Pandora</span>
            <span class="post-date" title="2022-02-05 01:30:52">2022/02/05</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Meta.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Meta">CTF Meta</span>
            <span class="post-date" title="2022-02-02 03:15:02">2022/02/02</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Secret.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Secret">CTF Secret</span>
            <span class="post-date" title="2022-01-31 00:29:02">2022/01/31</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Backdoor.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Backdoor">CTF Backdoor</span>
            <span class="post-date" title="2022-01-29 22:19:25">2022/01/29</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Horizontall.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Horizontall">CTF Horizontall</span>
            <span class="post-date" title="2022-01-23 20:42:51">2022/01/23</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Toppo.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Toppo">CTF Toppo</span>
            <span class="post-date" title="2022-01-22 17:54:42">2022/01/22</span>
        </a>
        
        <a  class="All Tips "
           href="/post/Walpaper_selector_with_sxiv.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Wallpaper selector with sxiv">Wallpaper selector with sxiv</span>
            <span class="post-date" title="2022-01-22 02:35:56">2022/01/22</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_cybersploit.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF cybersploit">CTF cybersploit</span>
            <span class="post-date" title="2022-01-21 20:19:23">2022/01/21</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_unknowndevice64-1.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF unknowndevice64-1">CTF unknowndevice64-1</span>
            <span class="post-date" title="2022-01-19 20:51:42">2022/01/19</span>
        </a>
        
        <a  class="All Tips "
           href="/post/Record_screen_with_ffmpeg.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Record screen with ffmpeg">Record screen with ffmpeg</span>
            <span class="post-date" title="2022-01-19 01:56:09">2022/01/19</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_commands_and_files.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF commands and files">CTF commands and files</span>
            <span class="post-date" title="2022-01-17 22:55:38">2022/01/17</span>
        </a>
        
        <a  class="All Service "
           href="/post/set_up_smb.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="set up smb">set up smb</span>
            <span class="post-date" title="2022-01-16 05:01:27">2022/01/16</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Stapler.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Stapler">CTF Stapler</span>
            <span class="post-date" title="2022-01-15 01:07:29">2022/01/15</span>
        </a>
        
        <a  class="All Programing "
           href="/post/Create_a_polybar_module.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Create a polybar module">Create a polybar module</span>
            <span class="post-date" title="2022-01-12 23:09:01">2022/01/12</span>
        </a>
        
        <a  class="All Os "
           href="/post/Replacing_xfce4_bar_by_Polybar.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Replacing xfce4 bar by Polybar">Replacing xfce4 bar by Polybar</span>
            <span class="post-date" title="2022-01-12 00:57:59">2022/01/12</span>
        </a>
        
        <a  class="All Programing "
           href="/post/Script_to_create_my_article_page.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Script to create my article page.">Script to create my article page.</span>
            <span class="post-date" title="2022-01-11 22:30:34">2022/01/11</span>
        </a>
        
        <a  class="All Tips "
           href="/post/Cut_an_online_video_with_ffmpeg.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Cut an online video with ffmpeg">Cut an online video with ffmpeg</span>
            <span class="post-date" title="2022-01-11 03:15:52">2022/01/11</span>
        </a>
        
        <a  class="All Service "
           href="/post/Stream_audio_video_at_home.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Create a locale stream">Create a locale stream</span>
            <span class="post-date" title="2022-01-09 19:18:22">2022/01/09</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_SickOs.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF_SickOs">CTF_SickOs</span>
            <span class="post-date" title="2022-01-09 01:15:52">2022/01/09</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Dina.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Dinae">CTF Dinae</span>
            <span class="post-date" title="2022-01-08 22:16:52">2022/01/08</span>
        </a>
        
        <a  class="All Tips "
           href="/post/weather.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Weather in CLI">Weather in CLI</span>
            <span class="post-date" title="2022-01-06 18:15:52">2022/01/06</span>
        </a>
        
        <a  class="All Os "
           href="/post/switch_from_i3_to_bspwm.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Switch from i3 to bspwm">Switch from i3 to bspwm</span>
            <span class="post-date" title="2022-01-01 01:37:52">2022/01/01</span>
        </a>
        
        <a  class="All Fix "
           href="/post/Fix_teams.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Fix my spyware is stuck in the login loop (Microsoft teams)">Fix my spyware is stuck in the login loop (Microsoft teams)</span>
            <span class="post-date" title="2021-12-27 21:15:52">2021/12/27</span>
        </a>
        
        <a  class="All Os "
           href="/post/nitrogen_with_wal.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="How do I setup nitrogen &amp; pywal">How do I setup nitrogen &amp; pywal</span>
            <span class="post-date" title="2021-12-25 03:15:52">2021/12/25</span>
        </a>
        
        <a  class="All Os "
           href="/post/Setup_Xfce_with_i3.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Setup_Xfce_with_i3">Setup_Xfce_with_i3</span>
            <span class="post-date" title="2021-12-24 05:17:00">2021/12/24</span>
        </a>
        
        <a  class="All Security "
           href="/post/Set_firewall_ufw.html"
           data-tag="Security"
           data-author="" >
            <span class="post-title" title="Set up a firewall with ufw">Set up a firewall with ufw</span>
            <span class="post-date" title="2021-11-01 20:05:52">2021/11/01</span>
        </a>
        
        <a  class="All Security "
           href="/post/Port_knocking.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Set up port knocking server to hide an open port">Set up port knocking server to hide an open port</span>
            <span class="post-date" title="2021-10-31 01:15:52">2021/10/31</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Ambassador.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Ambassador">CTF Ambassador</span>
            <span class="post-date" title="2021-10-10 03:09:05">2021/10/10</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_M0rsarchive.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF M0rsarchive">CTF M0rsarchive</span>
            <span class="post-date" title="2021-10-10 03:09:05">2021/10/10</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Photobomb.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Photobomb">CTF Photobomb</span>
            <span class="post-date" title="2021-10-09 18:09:05">2021/10/09</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Trick.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Trick">CTF Trick</span>
            <span class="post-date" title="2021-10-06 01:40:52">2021/10/06</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_IMF.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF IMF">CTF IMF</span>
            <span class="post-date" title="2021-10-04 01:40:52">2021/10/04</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Choppy.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Choppy">CTF Choppy</span>
            <span class="post-date" title="2021-10-02 01:15:52">2021/10/02</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Tr0ll.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Tr0ll">CTF Tr0ll</span>
            <span class="post-date" title="2021-10-02 01:15:52">2021/10/02</span>
        </a>
        
        <a  class="All Os "
           href="/post/Run_games_on_lutris_with_proton.html"
           data-tag="Linux, Gaming"
           data-author="" >
            <span class="post-title" title="Run non steam game with proton on lutris">Run non steam game with proton on lutris</span>
            <span class="post-date" title="2021-09-15 04:40:52">2021/09/15</span>
        </a>
        
        <a  class="All Os "
           href="/post/Add-windows-to-grub.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Add windows to grub">Add windows to grub</span>
            <span class="post-date" title="2021-08-28 07:54:52">2021/08/28</span>
        </a>
        
        <a  class="All Os "
           href="/post/gparted.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Resize the main partion with gparted">Resize the main partion with gparted</span>
            <span class="post-date" title="2021-08-27 17:08:52">2021/08/27</span>
        </a>
        
        <a  class="All Os "
           href="/post/cheat-sheet.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Cheat Sheet of the commands I use">Cheat Sheet of the commands I use</span>
            <span class="post-date" title="2021-08-08 17:15:52">2021/08/08</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Ted.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="CTF Ted">CTF Ted</span>
            <span class="post-date" title="2021-08-08 04:15:52">2021/08/08</span>
        </a>
        
        <a  class="All Os "
           href="/post/Set_polybar_on_2_screen.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Set Polybar on 2 screens">Set Polybar on 2 screens</span>
            <span class="post-date" title="2021-08-08 04:15:52">2021/08/08</span>
        </a>
        
        <a  class="All Os "
           href="/post/Change_screen_resolution.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Change screen resolution with xandr">Change screen resolution with xandr</span>
            <span class="post-date" title="2021-08-02 04:15:52">2021/08/02</span>
        </a>
        
        <a  class="All Fix "
           href="/post/Low_fps_in_games.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="My games are unplayable">My games are unplayable</span>
            <span class="post-date" title="2021-08-01 19:15:52">2021/08/01</span>
        </a>
        
        <a  class="All Os "
           href="/post/Set_shortcut_for_brightness.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Set shortcut with i3 for brightness.">Set shortcut with i3 for brightness.</span>
            <span class="post-date" title="2021-07-31 20:23:52">2021/07/31</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_Inferno.html"
           data-tag="Pentest"
           data-author="" >
            <span class="post-title" title="CTF Inferno">CTF Inferno</span>
            <span class="post-date" title="2021-07-19 18:59:52">2021/07/19</span>
        </a>
        
        <a  class="All Fix "
           href="/post/Fix_picom_blur_not_working.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Fix the blur with picom">Fix the blur with picom</span>
            <span class="post-date" title="2021-07-18 22:40:52">2021/07/18</span>
        </a>
        
        <a  class="All Os "
           href="/post/Configure_touchpad_on_i3.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Configure the touchpad [I3]">Configure the touchpad [I3]</span>
            <span class="post-date" title="2021-07-16 02:16:52">2021/07/16</span>
        </a>
        
        <a  class="All Service "
           href="/post/Send_file_via_ssh.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Send a file via ssh">Send a file via ssh</span>
            <span class="post-date" title="2021-07-14 04:15:52">2021/07/14</span>
        </a>
        
        <a  class="All Os "
           href="/post/Install-nvidia-driver.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Install nvidia driver on Arch Linux">Install nvidia driver on Arch Linux</span>
            <span class="post-date" title="2021-07-13 17:48:52">2021/07/13</span>
        </a>
        
        <a  class="All Fix "
           href="/post/Restore-backup.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Restore a backup with timeshift">Restore a backup with timeshift</span>
            <span class="post-date" title="2021-07-12 01:59:52">2021/07/12</span>
        </a>
        
        <a  class="All Fix "
           href="/post/Repare-wine.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="wine: could not load kernel32.dll, status c0000135">wine: could not load kernel32.dll, status c0000135</span>
            <span class="post-date" title="2021-07-11 18:50:52">2021/07/11</span>
        </a>
        
        <a  class="All Os "
           href="/post/Create_new_partition_linux.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Add a partition in linux">Add a partition in linux</span>
            <span class="post-date" title="2021-07-11 03:06:52">2021/07/11</span>
        </a>
        
        <a  class="All Os "
           href="/post/Save-Arch-linux.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Get a shell when Arch Linux is broken">Get a shell when Arch Linux is broken</span>
            <span class="post-date" title="2021-07-07 06:55:56">2021/07/07</span>
        </a>
        
        <a  class="All Os "
           href="/post/Install-AUR-packages.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Installing AUR packages">Installing AUR packages</span>
            <span class="post-date" title="2021-07-04 13:45:52">2021/07/04</span>
        </a>
        
        <a  class="All CTF "
           href="/post/CTF_gigachad.html"
           data-tag="Pentest"
           data-author="" >
            <span class="post-title" title="CTF-gigachad">CTF-gigachad</span>
            <span class="post-date" title="2021-07-01 04:15:52">2021/07/01</span>
        </a>
        
        <a  class="All Os "
           href="/post/Install-ArchLinux.html"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Arch Linux installation guide">Arch Linux installation guide</span>
            <span class="post-date" title="2021-07-01 04:15:52">2021/07/01</span>
        </a>
        
        <a  class="All Programing "
           href="/post/Create-an-IRC-bot-with-python.html"
           data-tag="IRC Python"
           data-author="" >
            <span class="post-title" title="Create an IRC bot with python">Create an IRC bot with python</span>
            <span class="post-date" title="2021-06-21 21:25:10">2021/06/21</span>
        </a>
        
        <a  class="All Service "
           href="/post/openVPN.html"
           data-tag="VPN"
           data-author="" >
            <span class="post-title" title="OpenVPN">OpenVPN</span>
            <span class="post-date" title="2021-06-20 17:53:11">2021/06/20</span>
        </a>
        
        <a  class="All Service "
           href="/post/Relais-tor.html"
           data-tag="Tor"
           data-author="" >
            <span class="post-title" title="Création d&#39;un relais tor avec debian 10">Création d&#39;un relais tor avec debian 10</span>
            <span class="post-date" title="2021-04-09 13:45:52">2021/04/09</span>
        </a>
        
        <a  class="All Security "
           href="/post/Secu-apache.html"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Securing an apache server">Securing an apache server</span>
            <span class="post-date" title="2021-03-09 12:45:52">2021/03/09</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Linux From Scratch" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Install Linux From Scratch</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Os">Os</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color1">Linux</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2022-09-27 09:49:09'>2022-06-18 23:48</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:3.5k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#What-is-it"><span class="toc-text">What is it ?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Why"><span class="toc-text">Why  ?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Disclamer"><span class="toc-text">Disclamer</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Install"><span class="toc-text">Install</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Partition"><span class="toc-text">Partition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting-The-LFS-Variable"><span class="toc-text">Setting The $LFS Variable</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Mounting-the-New-Partition"><span class="toc-text">Mounting the New Partition</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Source-directory"><span class="toc-text">Source directory</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-a-limited-directory-layout-in-LFS-filesystem"><span class="toc-text">Creating a limited directory layout in LFS filesystem</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-the-LFS-User"><span class="toc-text">Adding the LFS User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Setting-Up-the-Environment"><span class="toc-text">Setting Up the Environment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Compilation"><span class="toc-text">Compilation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GCC-11-2-0-Pass-1"><span class="toc-text">GCC-11.2.0 - Pass 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-5-16-9-API-Headers"><span class="toc-text">Linux-5.16.9 API Headers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Glibc-2-35"><span class="toc-text">Glibc-2.35</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Libstdc-from-GCC-11-2-0"><span class="toc-text">Libstdc++ from GCC-11.2.0</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Cross-Compiling-Temporary-Tools"><span class="toc-text">Cross Compiling Temporary Tools</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#M4-1-4-19"><span class="toc-text">M4-1.4.19</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ncurses-6-3"><span class="toc-text">Ncurses-6.3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bash-5-1-16"><span class="toc-text">Bash-5.1.16</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Coreutils-9-0"><span class="toc-text">Coreutils-9.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Diffutils-3-8"><span class="toc-text">Diffutils-3.8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#File-5-41"><span class="toc-text">File-5.41</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Findutils-4-9-0"><span class="toc-text">Findutils-4.9.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gawk-5-1-1"><span class="toc-text">Gawk-5.1.1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Grep-3-7"><span class="toc-text">Grep-3.7</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gzip-1-11"><span class="toc-text">Gzip-1.11</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Make-4-3"><span class="toc-text">Make-4.3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Patch-2-7-6"><span class="toc-text">Patch-2.7.6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sed-4-8"><span class="toc-text">Sed-4.8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tar-1-34"><span class="toc-text">Tar-1.34</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Xz-5-2-5"><span class="toc-text">Xz-5.2.5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Binutils-2-38-Pass-2"><span class="toc-text">Binutils-2.38 - Pass 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GCC-11-2-0-Pass-2"><span class="toc-text">GCC-11.2.0 - Pass 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Changing-Ownership"><span class="toc-text">Changing Ownership</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Preparing-Virtual-Kernel-File-Systems"><span class="toc-text">Preparing Virtual Kernel File Systems</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Entering-the-Chroot-Environment"><span class="toc-text">Entering the Chroot Environment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-Directories"><span class="toc-text">Creating Directories</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Creating-Essential-Files-and-Symlinks"><span class="toc-text">Creating Essential Files and Symlinks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Libstdc-from-GCC-11-2-0-Pass-2"><span class="toc-text">Libstdc++ from GCC-11.2.0, Pass 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Gettext-0-21"><span class="toc-text">Gettext-0.21</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bison-3-8-2"><span class="toc-text">Bison-3.8.2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Perl-5-34-0"><span class="toc-text">Perl-5.34.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python-3-10-2"><span class="toc-text">Python-3.10.2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Texinfo-6-8"><span class="toc-text">Texinfo-6.8</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Util-linux-2-37-4"><span class="toc-text">Util-linux-2.37.4</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cleaning"><span class="toc-text">Cleaning</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Backup"><span class="toc-text">Backup</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Restore"><span class="toc-text">Restore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installation-of-Man-pages"><span class="toc-text">Installation of Man-pages</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installation-of-Iana-Etc"><span class="toc-text">Installation of Iana-Etc</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Installation-of-Glibc"><span class="toc-text">Installation of Glibc</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="What-is-it"><a href="#What-is-it" class="headerlink" title="What is it ?"></a>What is it ?</h1><p>Linux from scratch is a book that explain how install linux from scratch.<br><a href="https://linuxfromscratch.org/">https://linuxfromscratch.org/</a></p>
<h1 id="Why"><a href="#Why" class="headerlink" title="Why  ?"></a>Why  ?</h1><p>I would like to learn more about linux. I’t will not be the best distro, for daily usage it’s better to use something else.</p>
<h1 id="Disclamer"><a href="#Disclamer" class="headerlink" title="Disclamer"></a>Disclamer</h1><p>This is not a tutorial, I’m reading the book from the beginning, I skip some checking step here.</p>
<h1 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h1><h2 id="Partition"><a href="#Partition" class="headerlink" title="Partition"></a>Partition</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter02/creatingfilesystem.html">https://linuxfromscratch.org/lfs/view/stable/chapter02/creatingfilesystem.html</a><br>I don’t have free space left to create a new partition, I have to umout an existing partition to split it.<br>I need 20G of space.<br><img src="https://i.imgur.com/GmLWnCf.png"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">umount</span> /iso<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Then I resize it with gparted and create the new partition.<br>I create a <code>ext4</code> partiton.<br>I will use the <code>root user</code> for everything now.</p>
<h2 id="Setting-The-LFS-Variable"><a href="#Setting-The-LFS-Variable" class="headerlink" title="Setting The $LFS Variable"></a>Setting The $LFS Variable</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable">LFS</span><span class="token operator">=</span>/mnt/lfs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>It’s just a shortcut, instead of typing <code>/mnt/lfs</code> you can do <code>$LFS</code>.<br>To be sure do this command.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token variable">$LFS</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Mounting-the-New-Partition"><a href="#Mounting-the-New-Partition" class="headerlink" title="Mounting the New Partition"></a>Mounting the New Partition</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -pv <span class="token variable">$LFS</span>
<span class="token function">mount</span> -v -t ext4 /dev/sda2 <span class="token variable">$LFS</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>I will add it to the fstab cuz it’s already late and I will restart my computer.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"/dev/sda2  /mnt/lfs ext4   defaults      1     1"</span> <span class="token operator">>></span> /etc/fstab<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Source-directory"><a href="#Source-directory" class="headerlink" title="Source directory"></a>Source directory</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter03/introduction.html">https://linuxfromscratch.org/lfs/view/stable/chapter03/introduction.html</a><br>In this few lines I create thee source directory, then I download the list with the required packages.<br>Then I download them via wget.</p>
<p>Do it as root !</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">su</span> - root
<span class="token function">mkdir</span> -v <span class="token variable">$LFS</span>/sources
<span class="token function">chmod</span> -v a+wt <span class="token variable">$LFS</span>/sources
<span class="token builtin class-name">cd</span> /tmp
<span class="token function">curl</span> https://linuxfromscratch.org/lfs/view/stable/wget-list -o wget-list
<span class="token function">wget</span> --input-file<span class="token operator">=</span>wget-list --continue --directory-prefix<span class="token operator">=</span><span class="token variable">$LFS</span>/sources<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>It’s downloading the patches too<br>I can verify the packages but, nop.</p>
<h2 id="Creating-a-limited-directory-layout-in-LFS-filesystem"><a href="#Creating-a-limited-directory-layout-in-LFS-filesystem" class="headerlink" title="Creating a limited directory layout in LFS filesystem"></a>Creating a limited directory layout in LFS filesystem</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter04/creatingminlayout.html">https://linuxfromscratch.org/lfs/view/stable/chapter04/creatingminlayout.html</a><br>As root with the LFS variable.<br>I’m creating the directories for the new system.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -pv <span class="token variable">$LFS</span>/<span class="token punctuation">&#123;</span>etc,var<span class="token punctuation">&#125;</span> <span class="token variable">$LFS</span>/usr/<span class="token punctuation">&#123;</span>bin,lib,sbin<span class="token punctuation">&#125;</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> bin lib sbin<span class="token punctuation">;</span> <span class="token keyword">do</span>
  <span class="token function">ln</span> -sv usr/<span class="token variable">$i</span> <span class="token variable">$LFS</span>/<span class="token variable">$i</span>
<span class="token keyword">done</span>

<span class="token keyword">case</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token keyword">in</span>
  x86_64<span class="token punctuation">)</span> <span class="token function">mkdir</span> -pv <span class="token variable">$LFS</span>/lib64 <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The cross compiler</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -pv <span class="token variable">$LFS</span>/tools<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Adding-the-LFS-User"><a href="#Adding-the-LFS-User" class="headerlink" title="Adding the LFS User"></a>Adding the LFS User</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter04/addinguser.html">https://linuxfromscratch.org/lfs/view/stable/chapter04/addinguser.html</a><br><code>When logged in as user root, making a single mistake can damage or destroy a system.</code><br>As root, create the user lfs.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">groupadd</span> lfs
<span class="token function">useradd</span> -s /bin/bash -g lfs -m -k /dev/null lfs
<span class="token function">passwd</span> lfs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Password: toor<br>Grant access to lfs to all directories.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chown</span> -v lfs <span class="token variable">$LFS</span>/<span class="token punctuation">&#123;</span>usr<span class="token punctuation">&#123;</span>,/*<span class="token punctuation">&#125;</span>,lib,var,etc,bin,sbin,tools<span class="token punctuation">&#125;</span>
<span class="token keyword">case</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token keyword">in</span>
  x86_64<span class="token punctuation">)</span> <span class="token function">chown</span> -v lfs <span class="token variable">$LFS</span>/lib64 <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
<span class="token function">chown</span> -v lfs <span class="token variable">$LFS</span>/sources
<span class="token function">su</span> - lfs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Now I can work as lfs instead of root, it’s better like that.</p>
<h2 id="Setting-Up-the-Environment"><a href="#Setting-Up-the-Environment" class="headerlink" title="Setting Up the Environment"></a>Setting Up the Environment</h2><p>With the user lfs.<br>Create the .bash_profile</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> <span class="token operator">></span> ~/.bash_profile <span class="token operator">&lt;&lt;</span> <span class="token string">"EOF"
`exec env -i HOME=$HOME TERM=$TERM PS1='\u:\w\$ ' /bin/bash`
EOF</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>Create the .bashrc </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> <span class="token operator">></span> ~/.bashrc <span class="token operator">&lt;&lt;</span> <span class="token string">"EOF"
`set +h umask 022 LFS=/mnt/lfs LC_ALL=POSIX LFS_TGT=$(uname -m)-lfs-linux-gnu PATH=/usr/bin if [ ! -L /bin ]; then PATH=/bin:$PATH; fi PATH=$LFS/tools/bin:$PATH CONFIG_SITE=$LFS/usr/share/config.site export LFS LC_ALL LFS_TGT PATH CONFIG_SITE`
EOF</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Several commercial distributions add a non-documented instantiation of <code>/etc/bash.bashrc</code> to the initialization of <strong>bash</strong>. This file has the potential to modify the <code>lfs</code> user’s environment in ways that can affect the building of critical LFS packages. To make sure the <code>lfs</code> user’s environment is clean, check for the presence of <code>/etc/bash.bashrc</code> and, if present, move it out of the way. As the <code>root</code> user, run:<br>As root run: </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">exit</span>
<span class="token punctuation">[</span> <span class="token operator">!</span> -e /etc/bash.bashrc <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token function">mv</span> -v /etc/bash.bashrc /etc/bash.bashrc.NOUSE
<span class="token function">su</span> - lfs
<span class="token builtin class-name">export</span> <span class="token assign-left variable">LFS</span><span class="token operator">=</span>/mnt/lfs
<span class="token builtin class-name">source</span> ~/.bash_profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Compilation"><a href="#Compilation" class="headerlink" title="Compilation"></a>Compilation</h2><p>The page about compilation:<br><a href="https://linuxfromscratch.org/lfs/view/stable/partintro/toolchaintechnotes.html">https://linuxfromscratch.org/lfs/view/stable/partintro/toolchaintechnotes.html</a><br>If it take too much time to compile I will do it later.<br>It’s already too hot in my room because of the heat wave, so if I compile I will die.</p>
<p>I have to compile binutils first.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token variable">$LFS</span>/sources
<span class="token function">tar</span> -xvf binutils-2.38.tar.xz
<span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Now prepare Binutils for compilation:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">..</span>/configure --prefix<span class="token operator">=</span><span class="token variable">$LFS</span>/tools <span class="token punctuation">\</span>
             --with-sysroot<span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token punctuation">\</span>
             --target<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>   <span class="token punctuation">\</span>
             --disable-nls       <span class="token punctuation">\</span>
             --disable-werror<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>The makefile is created.<br>continue with compiling the package:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Install the package:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="GCC-11-2-0-Pass-1"><a href="#GCC-11-2-0-Pass-1" class="headerlink" title="GCC-11.2.0 - Pass 1"></a>GCC-11.2.0 - Pass 1</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter05/gcc-pass1.html">https://linuxfromscratch.org/lfs/view/stable/chapter05/gcc-pass1.html</a><br>Extract gcc:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf gcc-11.2.0.tar.xz
<span class="token builtin class-name">cd</span> gcc-11.2.0
<span class="token function">tar</span> -xf <span class="token punctuation">..</span>/mpfr-4.1.0.tar.xz
<span class="token function">mv</span> -v mpfr-4.1.0 mpfr
<span class="token function">tar</span> -xf <span class="token punctuation">..</span>/gmp-6.2.1.tar.xz
<span class="token function">mv</span> -v gmp-6.2.1 gmp
<span class="token function">tar</span> -xf <span class="token punctuation">..</span>/mpc-1.2.1.tar.gz
<span class="token function">mv</span> -v mpc-1.2.1 mpc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>On x86_64 hosts, set the default directory name for 64-bit libraries to “lib”:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">case</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token keyword">in</span>
  x86_64<span class="token punctuation">)</span>
    <span class="token function">sed</span> -e <span class="token string">'/m64=/s/lib64/lib/'</span> <span class="token punctuation">\</span>
        -i.orig gcc/config/i386/t-linux64
 <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Create the build directorie.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Prepare GCC for compilation:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">..</span>/configure                  <span class="token punctuation">\</span>
    --target<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>         <span class="token punctuation">\</span>
    --prefix<span class="token operator">=</span><span class="token variable">$LFS</span>/tools       <span class="token punctuation">\</span>
    --with-glibc-version<span class="token operator">=</span><span class="token number">2.35</span> <span class="token punctuation">\</span>
    --with-sysroot<span class="token operator">=</span><span class="token variable">$LFS</span>       <span class="token punctuation">\</span>
    --with-newlib             <span class="token punctuation">\</span>
    --without-headers         <span class="token punctuation">\</span>
    --enable-initfini-array   <span class="token punctuation">\</span>
    --disable-nls             <span class="token punctuation">\</span>
    --disable-shared          <span class="token punctuation">\</span>
    --disable-multilib        <span class="token punctuation">\</span>
    --disable-decimal-float   <span class="token punctuation">\</span>
    --disable-threads         <span class="token punctuation">\</span>
    --disable-libatomic       <span class="token punctuation">\</span>
    --disable-libgomp         <span class="token punctuation">\</span>
    --disable-libquadmath     <span class="token punctuation">\</span>
    --disable-libssp          <span class="token punctuation">\</span>
    --disable-libvtv          <span class="token punctuation">\</span>
    --disable-libstdcxx       <span class="token punctuation">\</span>
    --enable-languages<span class="token operator">=</span>c,c++<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>continue with compiling the package:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Install the package:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> <span class="token function">install</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token function">cat</span> gcc/limitx.h gcc/glimits.h gcc/limity.h <span class="token operator">></span> <span class="token punctuation">\</span>
  <span class="token variable"><span class="token variable">`</span><span class="token function">dirname</span> <span class="token punctuation">$(</span>$LFS_TGT-gcc -print-libgcc-file-name<span class="token punctuation">)</span><span class="token variable">`</span></span>/install-tools/include/limits.h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>I had lot of trouble here, if you have an error, compile binutils again.<br>Be sure you have the environement set:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">set</span> <span class="token operator">|</span> <span class="token function">grep</span> LFS<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Linux-5-16-9-API-Headers"><a href="#Linux-5-16-9-API-Headers" class="headerlink" title="Linux-5.16.9 API Headers"></a>Linux-5.16.9 API Headers</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xf linux-5.16.9.tar.xz
<span class="token builtin class-name">cd</span> linux-5.16.9
<span class="token function">make</span> mrproper<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Make the header in /usr</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> headers
<span class="token function">find</span> usr/include -name <span class="token string">'.*'</span> -delete
<span class="token function">rm</span> usr/include/Makefile
<span class="token function">cp</span> -rv usr/include <span class="token variable">$LFS</span>/usr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Glibc-2-35"><a href="#Glibc-2-35" class="headerlink" title="Glibc-2.35"></a>Glibc-2.35</h2><p>create a symbolic link for LSB compliance for proper operation of the dynamic library loader:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">case</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token keyword">in</span>
    i?86<span class="token punctuation">)</span>   <span class="token function">ln</span> -sfv ld-linux.so.2 <span class="token variable">$LFS</span>/lib/ld-lsb.so.3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    x86_64<span class="token punctuation">)</span> <span class="token function">ln</span> -sfv <span class="token punctuation">..</span>/lib/ld-linux-x86-64.so.2 <span class="token variable">$LFS</span>/lib64
            <span class="token function">ln</span> -sfv <span class="token punctuation">..</span>/lib/ld-linux-x86-64.so.2 <span class="token variable">$LFS</span>/lib64/ld-lsb-x86-64.so.3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Patch glibc:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf glibc-2.35.tar.xz
<span class="token builtin class-name">cd</span> glibc-2.35
patch -Np1 -i <span class="token punctuation">..</span>/glibc-2.35-fhs-1.patch<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Then build it:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build
<span class="token builtin class-name">echo</span> <span class="token string">"rootsbindir=/usr/sbin"</span> <span class="token operator">></span> configparms
<span class="token punctuation">..</span>/configure                             <span class="token punctuation">\</span>
      --prefix<span class="token operator">=</span>/usr                      <span class="token punctuation">\</span>
      --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                    <span class="token punctuation">\</span>
      --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token punctuation">..</span>/scripts/config.guess<span class="token variable">)</span></span> <span class="token punctuation">\</span>
      --enable-kernel<span class="token operator">=</span><span class="token number">3.2</span>                <span class="token punctuation">\</span>
      --with-headers<span class="token operator">=</span><span class="token variable">$LFS</span>/usr/include    <span class="token punctuation">\</span>
      <span class="token assign-left variable">libc_cv_slibdir</span><span class="token operator">=</span>/usr/lib
<span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://i.imgur.com/L0KRAUi.png"><br>Nice, my OS is already half broken xD.<br>The first command is the one who can broke the system because if $LFS is empty it will be installed in your system. Because this library provides the basic routines for allocating memory, searching directories, opening and closing files, reading and writing files, string handling, pattern matching, arithmetic, and so on.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span>
<span class="token function">sed</span> <span class="token string">'/RTLDLIST=/s@/usr@@g'</span> -i <span class="token variable">$LFS</span>/usr/bin/ldd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Sanity check:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'int main()&#123;&#125;'</span> <span class="token operator">></span> dummy.c
<span class="token variable">$LFS_TGT</span>-gcc dummy.c
readelf -l a.out <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">'/ld-linux'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>If there is no error you can continue.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> -v dummy.c a.out
<span class="token variable">$LFS</span>/tools/libexec/gcc/<span class="token variable">$LFS_TGT</span>/11.2.0/install-tools/mkheaders<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="Libstdc-from-GCC-11-2-0"><a href="#Libstdc-from-GCC-11-2-0" class="headerlink" title="Libstdc++ from GCC-11.2.0"></a>Libstdc++ from GCC-11.2.0</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter05/gcc-libstdc++-pass1.html">https://linuxfromscratch.org/lfs/view/stable/chapter05/gcc-libstdc++-pass1.html</a><br>Libstdc++ is part of the GCC sources. You should first unpack the GCC tarball and change to the <code>gcc-11.2.0</code> directory.<br>So let’s go to the gcc directory</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/gcc-11.2.0
<span class="token function">mv</span> build/ build.back
<span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build
<span class="token punctuation">..</span>/libstdc++-v3/configure           <span class="token punctuation">\</span>
    --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                 <span class="token punctuation">\</span>
    --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token punctuation">..</span>/config.guess<span class="token variable">)</span></span>      <span class="token punctuation">\</span>
    --prefix<span class="token operator">=</span>/usr                   <span class="token punctuation">\</span>
    --disable-multilib              <span class="token punctuation">\</span>
    --disable-nls                   <span class="token punctuation">\</span>
    --disable-libstdcxx-pch         <span class="token punctuation">\</span>
    --with-gxx-include-dir<span class="token operator">=</span>/tools/<span class="token variable">$LFS_TGT</span>/include/c++/11.2.0
<span class="token function">make</span>
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h1 id="Cross-Compiling-Temporary-Tools"><a href="#Cross-Compiling-Temporary-Tools" class="headerlink" title="Cross Compiling Temporary Tools"></a>Cross Compiling Temporary Tools</h1><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/chapter06.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/chapter06.html</a></p>
<h2 id="M4-1-4-19"><a href="#M4-1-4-19" class="headerlink" title="M4-1.4.19"></a>M4-1.4.19</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/
<span class="token function">tar</span> -xf m4-1.4.19.tar.xz
<span class="token builtin class-name">cd</span> m4-1.4.19
./configure --prefix<span class="token operator">=</span>/usr   <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span> <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span>
<span class="token function">make</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://i.imgur.com/TQXFbBt.png"><br>Oh it’s broken.<br>Because I forgot this in the gcc directory:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> gcc/limitx.h gcc/glimits.h gcc/limity.h <span class="token operator">></span> <span class="token punctuation">\</span>
  <span class="token variable"><span class="token variable">`</span><span class="token function">dirname</span> <span class="token punctuation">$(</span>$LFS_TGT-gcc -print-libgcc-file-name<span class="token punctuation">)</span><span class="token variable">`</span></span>/install-tools/include/limits.h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Now we can install</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>




<h2 id="Ncurses-6-3"><a href="#Ncurses-6-3" class="headerlink" title="Ncurses-6.3"></a>Ncurses-6.3</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/ncurses.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/ncurses.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf ncurses-6.3
<span class="token builtin class-name">cd</span> ncurses-6.3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>Build tic:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> build
<span class="token function">pushd</span> build
  <span class="token punctuation">..</span>/configure
  <span class="token function">make</span> -C include
  <span class="token function">make</span> -C progs tic
<span class="token function">popd</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Prepare Ncurses for compilation:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./configure --prefix<span class="token operator">=</span>/usr                <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>              <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>./config.guess<span class="token variable">)</span></span>    <span class="token punctuation">\</span>
            --mandir<span class="token operator">=</span>/usr/share/man      <span class="token punctuation">\</span>
            --with-manpage-format<span class="token operator">=</span>normal <span class="token punctuation">\</span>
            --with-shared                <span class="token punctuation">\</span>
            --without-debug              <span class="token punctuation">\</span>
            --without-ada                <span class="token punctuation">\</span>
            --without-normal             <span class="token punctuation">\</span>
            --disable-stripping          <span class="token punctuation">\</span>
            --enable-widec<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://i.imgur.com/GnpMKwB.png"><br>Make and install:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token assign-left variable">TIC_PATH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/build/progs/tic <span class="token function">install</span>
<span class="token builtin class-name">echo</span> <span class="token string">"INPUT(-lncursesw)"</span> <span class="token operator">></span> <span class="token variable">$LFS</span>/usr/lib/libncurses.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="Bash-5-1-16"><a href="#Bash-5-1-16" class="headerlink" title="Bash-5.1.16"></a>Bash-5.1.16</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/bash.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/bash.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf bash-5.1.16.tar.gz  
<span class="token builtin class-name">cd</span> bash-5.1.16
./configure --prefix<span class="token operator">=</span>/usr                   <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>support/config.guess<span class="token variable">)</span></span> <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                 <span class="token punctuation">\</span>
            --without-bash-malloc
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Make a link for the programs that use <strong>sh</strong> for a shell:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ln</span> -sv <span class="token function">bash</span> <span class="token variable">$LFS</span>/bin/sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Coreutils-9-0"><a href="#Coreutils-9-0" class="headerlink" title="Coreutils-9.0"></a>Coreutils-9.0</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/coreutils.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/coreutils.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf coreutils-9.0.tar.xz
<span class="token builtin class-name">cd</span> coreutils-9.0
./configure --prefix<span class="token operator">=</span>/usr                     <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                   <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span> <span class="token punctuation">\</span>
            --enable-install-program<span class="token operator">=</span>hostname <span class="token punctuation">\</span>
            --enable-no-install-program<span class="token operator">=</span>kill,uptime
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Then move the program to the final destination.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mv</span> -v <span class="token variable">$LFS</span>/usr/bin/chroot              <span class="token variable">$LFS</span>/usr/sbin
<span class="token function">mkdir</span> -pv <span class="token variable">$LFS</span>/usr/share/man/man8
<span class="token function">mv</span> -v <span class="token variable">$LFS</span>/usr/share/man/man1/chroot.1 <span class="token variable">$LFS</span>/usr/share/man/man8/chroot.8
<span class="token function">sed</span> -i <span class="token string">'s/"1"/"8"/'</span>                    <span class="token variable">$LFS</span>/usr/share/man/man8/chroot.8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Diffutils-3-8"><a href="#Diffutils-3-8" class="headerlink" title="Diffutils-3.8"></a>Diffutils-3.8</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/diffutils.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/diffutils.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf diffutils-3.8.tar.xz 
<span class="token builtin class-name">cd</span> diffutils-3.8
./configure --prefix<span class="token operator">=</span>/usr --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="File-5-41"><a href="#File-5-41" class="headerlink" title="File-5.41"></a>File-5.41</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/file.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/file.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> file-5.41
<span class="token function">mkdir</span> build
<span class="token function">pushd</span> build
  <span class="token punctuation">..</span>/configure --disable-bzlib      <span class="token punctuation">\</span>
               --disable-libseccomp <span class="token punctuation">\</span>
               --disable-xzlib      <span class="token punctuation">\</span>
               --disable-zlib
  <span class="token function">make</span>
<span class="token function">popd</span>
./configure --prefix<span class="token operator">=</span>/usr --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span> --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>./config.guess<span class="token variable">)</span></span>
<span class="token function">make</span> <span class="token assign-left variable">FILE_COMPILE</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/build/src/file
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Findutils-4-9-0"><a href="#Findutils-4-9-0" class="headerlink" title="Findutils-4.9.0"></a>Findutils-4.9.0</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/findutils.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/findutils.html</a><br>That’s a lot of packages…</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf findutils-4.9.0.tar.xz
<span class="token builtin class-name">cd</span> findutils-4.9.0
./configure --prefix<span class="token operator">=</span>/usr                   <span class="token punctuation">\</span>
            --localstatedir<span class="token operator">=</span>/var/lib/locate <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                 <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Gawk-5-1-1"><a href="#Gawk-5-1-1" class="headerlink" title="Gawk-5.1.1"></a>Gawk-5.1.1</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/gawk.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/gawk.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf gawk-5.1.1.tar.xz 
<span class="token builtin class-name">cd</span> gawk-5.1.1
<span class="token function">sed</span> -i <span class="token string">'s/extras//'</span> Makefile.in
./configure --prefix<span class="token operator">=</span>/usr   <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span> <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Grep-3-7"><a href="#Grep-3-7" class="headerlink" title="Grep-3.7"></a>Grep-3.7</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/grep.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/grep.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf grep-3.7.tar.xz
<span class="token builtin class-name">cd</span> grep-3.7
./configure --prefix<span class="token operator">=</span>/usr   <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Gzip-1-11"><a href="#Gzip-1-11" class="headerlink" title="Gzip-1.11"></a>Gzip-1.11</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/gzip.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/gzip.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf gzip-1.11.tar.xz 
<span class="token builtin class-name">cd</span> gzip-1.11.tar
./configure --prefix<span class="token operator">=</span>/usr --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Make-4-3"><a href="#Make-4-3" class="headerlink" title="Make-4.3"></a>Make-4.3</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/make.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/make.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> make-4.3
./configure --prefix<span class="token operator">=</span>/usr   <span class="token punctuation">\</span>
            --without-guile <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span> <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Patch-2-7-6"><a href="#Patch-2-7-6" class="headerlink" title="Patch-2.7.6"></a>Patch-2.7.6</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/patch.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/patch.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf patch-2.7.6.tar.xz 
<span class="token builtin class-name">cd</span> patch-2.7.6
./configure --prefix<span class="token operator">=</span>/usr   <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span> <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Sed-4-8"><a href="#Sed-4-8" class="headerlink" title="Sed-4.8"></a>Sed-4.8</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/sed.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/sed.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf sed-4.8.tar.xz 
<span class="token builtin class-name">cd</span> sed-4.8
./configure --prefix<span class="token operator">=</span>/usr   <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Tar-1-34"><a href="#Tar-1-34" class="headerlink" title="Tar-1.34"></a>Tar-1.34</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/tar.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/tar.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf tar-1.34.tar.xz 
<span class="token builtin class-name">cd</span> tar-1.34 
./configure --prefix<span class="token operator">=</span>/usr                     <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                   <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span>
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Xz-5-2-5"><a href="#Xz-5-2-5" class="headerlink" title="Xz-5.2.5"></a>Xz-5.2.5</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/xz.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/xz.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf xz-5.2.5.tar.xz
<span class="token builtin class-name">cd</span> xz-5.2.5
./configure --prefix<span class="token operator">=</span>/usr                     <span class="token punctuation">\</span>
            --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                   <span class="token punctuation">\</span>
            --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>build-aux/config.guess<span class="token variable">)</span></span> <span class="token punctuation">\</span>
            --disable-static                  <span class="token punctuation">\</span>
            --docdir<span class="token operator">=</span>/usr/share/doc/xz-5.2.5
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Binutils-2-38-Pass-2"><a href="#Binutils-2-38-Pass-2" class="headerlink" title="Binutils-2.38 - Pass 2"></a>Binutils-2.38 - Pass 2</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/binutils-pass2.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/binutils-pass2.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> binutils-2.38
<span class="token function">sed</span> <span class="token string">'6009s/<span class="token variable">$add_dir</span>//'</span> -i ltmain.sh
<span class="token function">rm</span> -rf build
<span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build
<span class="token punctuation">..</span>/configure                   <span class="token punctuation">\</span>
    --prefix<span class="token operator">=</span>/usr              <span class="token punctuation">\</span>
    --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token punctuation">..</span>/config.guess<span class="token variable">)</span></span> <span class="token punctuation">\</span>
    --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>            <span class="token punctuation">\</span>
    --disable-nls              <span class="token punctuation">\</span>
    --enable-shared            <span class="token punctuation">\</span>
    --disable-werror           <span class="token punctuation">\</span>
    --enable-64-bit-bfd
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="GCC-11-2-0-Pass-2"><a href="#GCC-11-2-0-Pass-2" class="headerlink" title="GCC-11.2.0 - Pass 2"></a>GCC-11.2.0 - Pass 2</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter06/gcc-pass2.html">https://linuxfromscratch.org/lfs/view/stable/chapter06/gcc-pass2.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> gcc-11.2.0 -rf
<span class="token function">tar</span> -xvf gcc-11.2.0.tar.xz
<span class="token builtin class-name">cd</span> gcc-11.2.0
<span class="token function">tar</span> -xf <span class="token punctuation">..</span>/mpfr-4.1.0.tar.xz
<span class="token function">mv</span> -v mpfr-4.1.0 mpfr
<span class="token function">tar</span> -xf <span class="token punctuation">..</span>/gmp-6.2.1.tar.xz
<span class="token function">mv</span> -v gmp-6.2.1 gmp
<span class="token function">tar</span> -xf <span class="token punctuation">..</span>/mpc-1.2.1.tar.gz
<span class="token function">mv</span> -v mpc-1.2.1 mpc
<span class="token keyword">case</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token keyword">in</span>
  x86_64<span class="token punctuation">)</span>
    <span class="token function">sed</span> -e <span class="token string">'/m64=/s/lib64/lib/'</span> -i.orig gcc/config/i386/t-linux64
  <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
<span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build
<span class="token function">mkdir</span> -pv <span class="token variable">$LFS_TGT</span>/libgcc
<span class="token function">ln</span> -s <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/libgcc/gthr-posix.h <span class="token variable">$LFS_TGT</span>/libgcc/gthr-default.h
<span class="token punctuation">..</span>/configure                                       <span class="token punctuation">\</span>
    --build<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token punctuation">..</span>/config.guess<span class="token variable">)</span></span>                     <span class="token punctuation">\</span>
    --host<span class="token operator">=</span><span class="token variable">$LFS_TGT</span>                                <span class="token punctuation">\</span>
    --prefix<span class="token operator">=</span>/usr                                  <span class="token punctuation">\</span>
    <span class="token assign-left variable">CC_FOR_TARGET</span><span class="token operator">=</span><span class="token variable">$LFS_TGT</span>-gcc                     <span class="token punctuation">\</span>
    --with-build-sysroot<span class="token operator">=</span><span class="token variable">$LFS</span>                      <span class="token punctuation">\</span>
    --enable-initfini-array                        <span class="token punctuation">\</span>
    --disable-nls                                  <span class="token punctuation">\</span>
    --disable-multilib                             <span class="token punctuation">\</span>
    --disable-decimal-float                        <span class="token punctuation">\</span>
    --disable-libatomic                            <span class="token punctuation">\</span>
    --disable-libgomp                              <span class="token punctuation">\</span>
    --disable-libquadmath                          <span class="token punctuation">\</span>
    --disable-libssp                               <span class="token punctuation">\</span>
    --disable-libvtv                               <span class="token punctuation">\</span>
    --disable-libstdcxx                            <span class="token punctuation">\</span>
    --enable-languages<span class="token operator">=</span>c,c++
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token assign-left variable">DESTDIR</span><span class="token operator">=</span><span class="token variable">$LFS</span> <span class="token function">install</span>
<span class="token function">ln</span> -sv gcc <span class="token variable">$LFS</span>/usr/bin/cc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="Changing-Ownership"><a href="#Changing-Ownership" class="headerlink" title="Changing Ownership"></a>Changing Ownership</h2><p>The directory /mnt/lfs is owned by the user lfs on my host.<br>I need to change that to the user root of my system.<br>I open a new terminal as root then copy past the content of the .bashrc of lfs in the terminal.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">set</span> +h
<span class="token builtin class-name">umask</span> 022
<span class="token assign-left variable">LFS</span><span class="token operator">=</span>/mnt/lfs
<span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>POSIX
<span class="token assign-left variable">LFS_TGT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>-lfs-linux-gnu
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/bin
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> -L /bin <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:<span class="token environment constant">$PATH</span><span class="token punctuation">;</span> <span class="token keyword">fi</span>
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$LFS</span>/tools/bin:<span class="token environment constant">$PATH</span>
<span class="token assign-left variable">CONFIG_SITE</span><span class="token operator">=</span><span class="token variable">$LFS</span>/usr/share/config.site
<span class="token builtin class-name">export</span> LFS <span class="token environment constant">LC_ALL</span> LFS_TGT <span class="token environment constant">PATH</span> CONFIG_SITE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>I know I could just export the $LFS and $LFS_TGT.</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chown</span> -R root:root <span class="token variable">$LFS</span>/<span class="token punctuation">&#123;</span>usr,lib,var,etc,bin,sbin,tools<span class="token punctuation">&#125;</span>
<span class="token keyword">case</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span> <span class="token keyword">in</span>
  x86_64<span class="token punctuation">)</span> <span class="token function">chown</span> -R root:root <span class="token variable">$LFS</span>/lib64 <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Preparing-Virtual-Kernel-File-Systems"><a href="#Preparing-Virtual-Kernel-File-Systems" class="headerlink" title="Preparing Virtual Kernel File Systems"></a>Preparing Virtual Kernel File Systems</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/kernfs.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/kernfs.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -pv <span class="token variable">$LFS</span>/<span class="token punctuation">&#123;</span>dev,proc,sys,run<span class="token punctuation">&#125;</span>
<span class="token function">mknod</span> -m <span class="token number">600</span> <span class="token variable">$LFS</span>/dev/console c <span class="token number">5</span> <span class="token number">1</span>
<span class="token function">mknod</span> -m <span class="token number">666</span> <span class="token variable">$LFS</span>/dev/null c <span class="token number">1</span> <span class="token number">3</span>
<span class="token function">mount</span> -v --bind /dev <span class="token variable">$LFS</span>/dev
<span class="token function">mount</span> -v --bind /dev/pts <span class="token variable">$LFS</span>/dev/pts
<span class="token function">mount</span> -vt proc proc <span class="token variable">$LFS</span>/proc
<span class="token function">mount</span> -vt sysfs sysfs <span class="token variable">$LFS</span>/sys
<span class="token function">mount</span> -vt tmpfs tmpfs <span class="token variable">$LFS</span>/run
<span class="token keyword">if</span> <span class="token punctuation">[</span> -h <span class="token variable">$LFS</span>/dev/shm <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token function">mkdir</span> -pv <span class="token variable">$LFS</span>/<span class="token variable"><span class="token variable">$(</span>readlink $LFS/dev/shm<span class="token variable">)</span></span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Entering-the-Chroot-Environment"><a href="#Entering-the-Chroot-Environment" class="headerlink" title="Entering the Chroot Environment"></a>Entering the Chroot Environment</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chroot</span> <span class="token string">"<span class="token variable">$LFS</span>"</span> /usr/bin/env -i   <span class="token punctuation">\</span>
    <span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/root                  <span class="token punctuation">\</span>
    <span class="token assign-left variable"><span class="token environment constant">TERM</span></span><span class="token operator">=</span><span class="token string">"<span class="token environment constant">$TERM</span>"</span>                <span class="token punctuation">\</span>
    <span class="token assign-left variable"><span class="token environment constant">PS1</span></span><span class="token operator">=</span><span class="token string">'(lfs chroot) \u:\w\$ '</span> <span class="token punctuation">\</span>
    <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/bin:/usr/sbin     <span class="token punctuation">\</span>
    /bin/bash --login<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://media.discordapp.net/attachments/988839722933715004/988847861808652299/unknown.png?width=675&height=81"><br><code>I have no name</code>: This is normal because the <code>/etc/passwd</code> file has not been created yet.</p>
<h2 id="Creating-Directories"><a href="#Creating-Directories" class="headerlink" title="Creating Directories"></a>Creating Directories</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -pv /<span class="token punctuation">&#123;</span>boot,home,mnt,opt,srv<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /etc/<span class="token punctuation">&#123;</span>opt,sysconfig<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /lib/firmware
<span class="token function">mkdir</span> -pv /media/<span class="token punctuation">&#123;</span>floppy,cdrom<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /usr/<span class="token punctuation">&#123;</span>,local/<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>include,src<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /usr/local/<span class="token punctuation">&#123;</span>bin,lib,sbin<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /usr/<span class="token punctuation">&#123;</span>,local/<span class="token punctuation">&#125;</span>share/<span class="token punctuation">&#123;</span>color,dict,doc,info,locale,man<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /usr/<span class="token punctuation">&#123;</span>,local/<span class="token punctuation">&#125;</span>share/<span class="token punctuation">&#123;</span>misc,terminfo,zoneinfo<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /usr/<span class="token punctuation">&#123;</span>,local/<span class="token punctuation">&#125;</span>share/man/man<span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">8</span><span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /var/<span class="token punctuation">&#123;</span>cache,local,log,mail,opt,spool<span class="token punctuation">&#125;</span>
<span class="token function">mkdir</span> -pv /var/lib/<span class="token punctuation">&#123;</span>color,misc,locate<span class="token punctuation">&#125;</span>

<span class="token function">ln</span> -sfv /run /var/run
<span class="token function">ln</span> -sfv /run/lock /var/lock

<span class="token function">install</span> -dv -m 0750 /root
<span class="token function">install</span> -dv -m <span class="token number">1777</span> /tmp /var/tmp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>You can also create more directories:<br><a href="https://refspecs.linuxfoundation.org/fhs.shtml">https://refspecs.linuxfoundation.org/fhs.shtml</a></p>
<h2 id="Creating-Essential-Files-and-Symlinks"><a href="#Creating-Essential-Files-and-Symlinks" class="headerlink" title="Creating Essential Files and Symlinks"></a>Creating Essential Files and Symlinks</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/createfiles.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/createfiles.html</a><br>Don’t copy past this, it’s bugy, copy it from the LFS above.<br><img src="https://i.imgur.com/ArXR5xp.png"></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ln</span> -sv /proc/self/mounts /etc/mtab
<span class="token function">cat</span> <span class="token operator">></span> /etc/hosts <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
127.0.0.1  localhost <span class="token variable"><span class="token variable">$(</span><span class="token function">hostname</span><span class="token variable">)</span></span>
::1        localhost
EOF</span>
<span class="token function">cat</span> <span class="token operator">></span> /etc/passwd <span class="token operator">&lt;&lt;</span> <span class="token string">"EOF"
`root:x:0:0:root:/root:/bin/bash bin:x:1:1:bin:/dev/null:/usr/bin/false daemon:x:6:6:Daemon User:/dev/null:/usr/bin/false messagebus:x:18:18:D-Bus Message Daemon User:/run/dbus:/usr/bin/false uuidd:x:80:80:UUID Generation Daemon User:/dev/null:/usr/bin/false nobody:x:99:99:Unprivileged User:/dev/null:/usr/bin/false`
EOF</span>
<span class="token function">cat</span> <span class="token operator">></span> /etc/group <span class="token operator">&lt;&lt;</span> <span class="token string">"EOF"
`root:x:0: bin:x:1:daemon sys:x:2: kmem:x:3: tape:x:4: tty:x:5: daemon:x:6: floppy:x:7: disk:x:8: lp:x:9: dialout:x:10: audio:x:11: video:x:12: utmp:x:13: usb:x:14: cdrom:x:15: adm:x:16: messagebus:x:18: input:x:24: mail:x:34: kvm:x:61: uuidd:x:80: wheel:x:97: nogroup:x:99: users:x:999:`
EOF</span>
<span class="token builtin class-name">echo</span> <span class="token string">"tester:x:101:101::/home/tester:/bin/bash"</span> <span class="token operator">>></span> /etc/passwd
<span class="token builtin class-name">echo</span> <span class="token string">"tester:x:101:"</span> <span class="token operator">>></span> /etc/group
<span class="token function">install</span> -o tester -d /home/tester
<span class="token builtin class-name">exec</span> /usr/bin/bash --login
<span class="token function">touch</span> /var/log/<span class="token punctuation">&#123;</span>btmp,lastlog,faillog,wtmp<span class="token punctuation">&#125;</span>
<span class="token function">chgrp</span> -v utmp /var/log/lastlog
<span class="token function">chmod</span> -v <span class="token number">664</span>  /var/log/lastlog
<span class="token function">chmod</span> -v <span class="token number">600</span>  /var/log/btmp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Libstdc-from-GCC-11-2-0-Pass-2"><a href="#Libstdc-from-GCC-11-2-0-Pass-2" class="headerlink" title="Libstdc++ from GCC-11.2.0, Pass 2"></a>Libstdc++ from GCC-11.2.0, Pass 2</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/gcc-libstdc++-pass2.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/gcc-libstdc++-pass2.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /sources/gcc-11.2.0
<span class="token function">ln</span> -s gthr-posix.h libgcc/gthr-default.h
<span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build
<span class="token punctuation">..</span>/libstdc++-v3/configure            <span class="token punctuation">\</span>
    <span class="token assign-left variable">CXXFLAGS</span><span class="token operator">=</span><span class="token string">"-g -O2 -D_GNU_SOURCE"</span>  <span class="token punctuation">\</span>
    --prefix<span class="token operator">=</span>/usr                    <span class="token punctuation">\</span>
    --disable-multilib               <span class="token punctuation">\</span>
    --disable-nls                    <span class="token punctuation">\</span>
    --host<span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>-lfs-linux-gnu <span class="token punctuation">\</span>
    --disable-libstdcxx-pch
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Gettext-0-21"><a href="#Gettext-0-21" class="headerlink" title="Gettext-0.21"></a>Gettext-0.21</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/gettext.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/gettext.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xf gettext-0.21.tar.xz
<span class="token builtin class-name">cd</span> gettext-0.21
./configure --disable-shared
<span class="token function">make</span> -j4
<span class="token function">cp</span> -v gettext-tools/src/<span class="token punctuation">&#123;</span>msgfmt,msgmerge,xgettext<span class="token punctuation">&#125;</span> /usr/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Bison-3-8-2"><a href="#Bison-3-8-2" class="headerlink" title="Bison-3.8.2"></a>Bison-3.8.2</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/bison.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/bison.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xf bison-3.8.2.tar.xz
<span class="token builtin class-name">cd</span> bison-3.8.2
./configure --prefix<span class="token operator">=</span>/usr <span class="token punctuation">\</span>
            --docdir<span class="token operator">=</span>/usr/share/doc/bison-3.8.2
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Perl-5-34-0"><a href="#Perl-5-34-0" class="headerlink" title="Perl-5.34.0"></a>Perl-5.34.0</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/perl.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/perl.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/
<span class="token function">tar</span> -xf perl-5.34.0.tar.xz
<span class="token builtin class-name">cd</span> perl-5.34.0
<span class="token function">sh</span> Configure -des                                        <span class="token punctuation">\</span>
             -Dprefix<span class="token operator">=</span>/usr                               <span class="token punctuation">\</span>
             -Dvendorprefix<span class="token operator">=</span>/usr                         <span class="token punctuation">\</span>
             -Dprivlib<span class="token operator">=</span>/usr/lib/perl5/5.34/core_perl     <span class="token punctuation">\</span>
             -Darchlib<span class="token operator">=</span>/usr/lib/perl5/5.34/core_perl     <span class="token punctuation">\</span>
             -Dsitelib<span class="token operator">=</span>/usr/lib/perl5/5.34/site_perl     <span class="token punctuation">\</span>
             -Dsitearch<span class="token operator">=</span>/usr/lib/perl5/5.34/site_perl    <span class="token punctuation">\</span>
             -Dvendorlib<span class="token operator">=</span>/usr/lib/perl5/5.34/vendor_perl <span class="token punctuation">\</span>
             -Dvendorarch<span class="token operator">=</span>/usr/lib/perl5/5.34/vendor_perl
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="Python-3-10-2"><a href="#Python-3-10-2" class="headerlink" title="Python-3.10.2"></a>Python-3.10.2</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/Python.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/Python.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xf Python-3.10.2.tar.xz
<span class="token builtin class-name">cd</span> Python-3.10.2
./configure --prefix<span class="token operator">=</span>/usr   <span class="token punctuation">\</span>
            --enable-shared <span class="token punctuation">\</span>
            --without-ensurepip
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Texinfo-6-8"><a href="#Texinfo-6-8" class="headerlink" title="Texinfo-6.8"></a>Texinfo-6.8</h2><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/texinfo.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/texinfo.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sed</span> -e <span class="token string">'s/__attribute_nonnull__/__nonnull/'</span> <span class="token punctuation">\</span>
    -i gnulib/lib/malloc/dynarray-skeleton.c
./configure --prefix<span class="token operator">=</span>/usr
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Util-linux-2-37-4"><a href="#Util-linux-2-37-4" class="headerlink" title="Util-linux-2.37.4"></a>Util-linux-2.37.4</h3><p><a href="https://linuxfromscratch.org/lfs/view/stable/chapter07/util-linux.html">https://linuxfromscratch.org/lfs/view/stable/chapter07/util-linux.html</a></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -pv /var/lib/hwclock
./configure <span class="token assign-left variable">ADJTIME_PATH</span><span class="token operator">=</span>/var/lib/hwclock/adjtime    <span class="token punctuation">\</span>
            --libdir<span class="token operator">=</span>/usr/lib    <span class="token punctuation">\</span>
            --docdir<span class="token operator">=</span>/usr/share/doc/util-linux-2.37.4 <span class="token punctuation">\</span>
            --disable-chfn-chsh  <span class="token punctuation">\</span>
            --disable-login      <span class="token punctuation">\</span>
            --disable-nologin    <span class="token punctuation">\</span>
            --disable-su         <span class="token punctuation">\</span>
            --disable-setpriv    <span class="token punctuation">\</span>
            --disable-runuser    <span class="token punctuation">\</span>
            --disable-pylibmount <span class="token punctuation">\</span>
            --disable-static     <span class="token punctuation">\</span>
            --without-python     <span class="token punctuation">\</span>
            <span class="token assign-left variable">runstatedir</span><span class="token operator">=</span>/run
<span class="token function">make</span> -j4
<span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Cleaning"><a href="#Cleaning" class="headerlink" title="Cleaning"></a>Cleaning</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> -rf /usr/share/<span class="token punctuation">&#123;</span>info,man,doc<span class="token punctuation">&#125;</span>/*
<span class="token function">find</span> /usr/<span class="token punctuation">&#123;</span>lib,libexec<span class="token punctuation">&#125;</span> -name <span class="token punctuation">\</span>*.la -delete
<span class="token function">rm</span> -rf /tools
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="Backup"><a href="#Backup" class="headerlink" title="Backup"></a>Backup</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">exit</span>
<span class="token function">umount</span> <span class="token variable">$LFS</span>/dev/pts
<span class="token function">umount</span> <span class="token variable">$LFS</span>/<span class="token punctuation">&#123;</span>sys,proc,run,dev<span class="token punctuation">&#125;</span>
<span class="token builtin class-name">cd</span> <span class="token variable">$LFS</span>
<span class="token function">tar</span> -cJpf <span class="token environment constant">$HOME</span>/lfs-temp-tools-11.1.tar.xz /iso<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Restore"><a href="#Restore" class="headerlink" title="Restore"></a>Restore</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token variable">$LFS</span>
<span class="token function">rm</span> -rf ./*
<span class="token function">tar</span> -xpf <span class="token environment constant">$HOME</span>/lfs-temp-tools-11.1.tar.xz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><a href="https://linuxfromscratch.org/lfs/view/stable/part4.html">https://linuxfromscratch.org/lfs/view/stable/part4.html</a></p>
<h2 id="Installation-of-Man-pages"><a href="#Installation-of-Man-pages" class="headerlink" title="Installation of Man-pages"></a>Installation of Man-pages</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> <span class="token assign-left variable">prefix</span><span class="token operator">=</span>/usr <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="Installation-of-Iana-Etc"><a href="#Installation-of-Iana-Etc" class="headerlink" title="Installation of Iana-Etc"></a>Installation of Iana-Etc</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cp</span> services protocols /etc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="Installation-of-Glibc"><a href="#Installation-of-Glibc" class="headerlink" title="Installation of Glibc"></a>Installation of Glibc</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">patch -Np1 -i <span class="token punctuation">..</span>/glibc-2.35-fhs-1.patch
<span class="token function">mkdir</span> -v build
<span class="token builtin class-name">cd</span>       build
<span class="token builtin class-name">echo</span> <span class="token string">"rootsbindir=/usr/sbin"</span> <span class="token operator">></span> configparms
<span class="token punctuation">..</span>/configure --prefix<span class="token operator">=</span>/usr                            <span class="token punctuation">\</span>
             --disable-werror                         <span class="token punctuation">\</span>
             --enable-kernel<span class="token operator">=</span><span class="token number">3.2</span>                      <span class="token punctuation">\</span>
             --enable-stack-protector<span class="token operator">=</span>strong          <span class="token punctuation">\</span>
             --with-headers<span class="token operator">=</span>/usr/include              <span class="token punctuation">\</span>
             <span class="token assign-left variable">libc_cv_slibdir</span><span class="token operator">=</span>/usr/lib
<span class="token function">make</span> -j4
<span class="token function">make</span> check<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
      
       
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2021 Peanutstick&#39;s Blog
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
